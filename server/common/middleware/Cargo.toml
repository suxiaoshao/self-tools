[package]
name = "middleware"
version = "0.1.0"
edition = "2021"

# See more keys and their definitions at https://doc.rust-lang.org/cargo/reference/manifest.html

[dependencies]
# trace
rand = { version = "0.8.5", optional = true }
tower={ version = "0.4.13", optional = true }
tracing ={ version = "0.1.37", optional = true }
futures={ version = "0.3.28", optional = true }
http-body = { version = "0.4.5", optional = true }
pin-project-lite={ version = "0.2.9", optional = true }
futures-util = { version = "0.3.28", optional = true }

# cors
http= { version = "0.2.9", optional = true }
tower-http= { version = "0.4.1", features = ["cors"], optional = true }
nom = { version = "7.1.3", optional = true }
# auth
axum={ version = "0.6.18", optional = true }
proto={path="../proto",optional=true}
tonic={ version = "0.9.2", optional = true }

# graphql
async-graphql = { version = "5.0.10", optional = true }

[dev-dependencies]
anyhow = "1.0.71"

[features]
trace=["rand","tower","http","tracing","futures","http-body","pin-project-lite","futures-util"]
cors=["http","tower-http","nom"]
auth=["axum","proto","tonic"]
graphql-trace=["tracing","async-graphql"]
